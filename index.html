<html>
<head>
    <link rel="stylesheet" href="style.css"></style>

</heaad>
<body>

    <section id="section">
    <div class="container">
      <!-- leftCont -->
      <div class="leftCont">
        <div class="leftMainCont">
          <div class="legendContainer">
            <ul>
              <li>
                <div class="seat legend"></div>
                <small>Available</small>
              </li>
              <li>
                <div class="seat legend selected"></div>
                <small>Selected</small>
              </li>
              <li>
                <div class="seat legend occupied"></div>
                <small>Occupied</small>
              </li>
            </ul>
          </div>
          <!-- seat Container -->
          <div class="mainSeatCont">
            <div class="screen">
              <small>SCREEN</small>
            </div>
            <div class="seatCont" id="seatCont">
              <div class="seatRowCont1 seatRowCont">
                <div class="row">
                  <div class="seat"></div>
                  <div class="seat occupied"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                </div>
                <div class="row">
                  <div class="seat"></div>
                  <div class="seat occupied"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                </div>
              </div>
              <div class="seatRowCont2 seatRowCont">
                <div class="row">
                  <div class="seat"></div>
                  <div class="seat occupied"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                </div>
                <div class="row">
                  <div class="seat"></div>
                  <div class="seat occupied"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                </div>
                <div class="row">
                  <div class="seat"></div>
                  <div class="seat occupied"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                </div>
                <div class="row">
                  <div class="seat"></div>
                  <div class="seat occupied"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                </div>
              </div>
              <div class="seatRowCont3 seatRowCont">
                <div class="row">
                  <div class="seat"></div>
                  <div class="seat occupied"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                </div>
                <div class="row">
                  <div class="seat"></div>
                  <div class="seat occupied"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                  <div class="seat"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Right Cont -->
      <div class="rightCont">
        <div class="confirmCont">
          <div class="rightTopCont">
            <!-- moviename -->

            <div class="movieInfo">
              <div class="selectMovie">
                <label>
                  <p>Select Your Movie</p>
                  <select id="selectMovie"></select>
                </label>
              </div>
              <div class="movieName">
                <p>MOVIE NAME</p>
                <h1 id="movieName">flash</h1>
              </div>
              <div class="moviePrice">
                <p>MOVIE PRICE</p>
                <h1 id="moviePrice">$ 7</h1>
              </div>
              <div class="dateCont">
                <p>Date</p>
                <h2 class="date">22 June,2023</h2>

              </div>
            </div>
          </div>
          <div class="rightBottomCont">
            <div class="selectedSeatCont">
              <p>SELECTED SEATS</p>
              <div class="selectedSeatsHolder" id="selectedSeatsHolder">
                <span class="noSelected">No Seat Selected</span>
              </div>
            </div>
            <!-- Seat number and price -->

            <div class="numberOfSeatsCont">
              <div class="numberOfSeatEl">
                <p><span id="numberOfSeat">0</span> Seats(s)</p>
              </div>
              <div class="priceCont">
                <p id="totalPrice">$ 0</p>
              </div>
            </div>
            <!-- button Cont -->

            <div class="buttonCont">
              <div class="cancelBtn">
                <button id="cancelBtn">Cancel</button>
              </div>
              <div class="proceedBtnEl">
                <button id="proceedBtn">Continue</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script >
    //Create you project here from scratch
const moviesList = [
    { movieName: "Flash", price: 7 },
    { movieName: "Spiderman", price: 5 },
    { movieName: "Batman", price: 4 },
  ];
  // const booked=new Set();
  const movielist=document.querySelector('#selectMovie');
  moviesList.forEach((movie)=>{
    movielist.innerHTML+=`<option>${movie.movieName} $ ${movie.price}</option>`
  })
  const movieName=document.querySelector('#movieName');
  const moviePrice=document.querySelector('#moviePrice');
  let totalseatscount=0;
  const numberOfSeat=document.querySelector('#numberOfSeat');
  // console.log(movieName,moviePrice);
  movielist.addEventListener('click',()=>{
    // console.log(movielist.value);
    movieName.innerHTML=movielist.value.split(' ')[0];
    moviePrice.innerHTML=` $ ${movielist.value.split(' ')[2]}`;
  })
  // occupied
  const totalPrice=document.querySelector('#totalPrice');
    let totalmovieprice=0;
   const seatCont=document.querySelectorAll('#seatCont .seat');
   const selectedSeatsHolder=document.querySelector('#selectedSeatsHolder');
    for(let i=0;i<seatCont.length;i++){
    // console.log(seat)
    const seat=seatCont[i];
    
       seat.addEventListener('click', ()=>{
        if(!seat.classList.contains('occupied')) {
      console.log(seat)
      // console.log(booked,seat.classList.contains('occupied'))
      if(!seat.classList.contains('selected'))
        {seat.classList.add('selected');
        totalseatscount++;
        totalmovieprice+=Number(movielist.value.split(' ')[2]);
        }
      else
      { totalseatscount--;
        totalmovieprice-=Number(movielist.value.split(' ')[2]);
        seat.classList.remove('selected');}
     const pp=`<div style="display:flex; width:3.2rem; background-color: rgb(168, 245, 168); padding:1rem; align-item:center; ">${i+1}</div>`;
     selectedSeatsHolder.innerHTML+=pp;
      // selectedSeatsHolder.removeChild(span);
     console.log(selectedSeatsHolder.innerHTML);
      // selectedSeatsHolder.innerHTML.push(`<div style="background-color: rgb(168, 245, 168); padding:1.5rem auto; align-item:center; border:1px solid; background-color: rgb(168, 245, 168);" >${i+1}</div>`)
      numberOfSeat.innerHTML=totalseatscount;
      totalPrice.innerHTML=`$ ${totalmovieprice}`;}
    })
   }
    // continue 
    const proceedBtn=document.querySelector('#proceedBtn');
    proceedBtn.addEventListener('click',()=>{
         
   const seatCont=document.querySelectorAll('#seatCont .seat');
   if(totalseatscount>0){
    alert('booked');
   for(let i=0;i<seatCont.length;i++){
    // console.log(seat)
    const seat=seatCont[i];
    if(seat.classList.contains('selected')) {
      seat.classList.remove('selected');
      seat.classList.add('occupied'); 
      totalmovieprice=0;
      totalseatscount=0;
      numberOfSeat.innerHTML=totalseatscount;
      totalPrice.innerHTML=`$ ${totalmovieprice}`;
       selectedSeatsHolder.innerHTML='<span class="noSelected">No Seat Selected</span>'
    }
  }}else{
      alert('yay no seat is selected')
    }
    })
  //  cancel
  cancelBtn.addEventListener('click',()=>{
    for(let i=0;i<seatCont.length;i++){
      const seat=seatCont[i];
    if(seat.classList.contains('selected')) {
      seat.classList.remove('selected');
      totalmovieprice=0;
      totalseatscount=0;
      numberOfSeat.innerHTML=totalseatscount;
      totalPrice.innerHTML=`$ ${totalmovieprice}`;
      selectedSeatsHolder.innerHTML='<span class="noSelected">No Seat Selected</span>'
    }
    }
  })
// Use moviesList array for displaing the Name in the dropdown menu
//Add eventLister to each unoccupied seat
//Add eventLsiter to continue Button
//Add eventListerner to Cancel Button
  </script>
</body>
</html>